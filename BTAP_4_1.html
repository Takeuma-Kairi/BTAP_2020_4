<!DOCTYPE html>
<html>
<head>

  <meta charset="UTF-8"> <!--日本語-->
  <meta name="viewport" content="width=device-width" />
  <link rel="stylesheet" href="source/css/mono.css" type="text/css" id="css"> <!--色合い-->
  <link rel="stylesheet" href="source/css/Tsuri.css" type="text/css" id="css2"> <!--上からの吊り下げ-->
  <link rel="shortcut icon" href="BTAicon.png" type="image/png"> <!--ファビコン-->

</head>
<body id="body"><div id="div_soroe" style="text-align:left;padding-left:10px;margin-top:-5px">
	<div>
    <!--ボタンを揃える-->
    <button class="btn_lod" style="width:9em;border-width:1px;box-sizing:border-box;" id="btn_load_and_set" onclick="block_d_load_and_set()">読み込み、設定</button><button class="btn_pag" style="width:9em;border-width:1px;box-sizing:border-box;left:-1px;" id="btn_desc_and_item" onclick="block_d_desc_and_item()">ページ</button>
  </div>


    <div style="position: relative;margin:0px;"> <!--ボタン下の本文部分をそろえる-->


    <div id="load_and_set" style="display:block;text-align:left;">
    <!--ページロード -->
    <div id="d_load" class="mydiv" style="display:inline-block;float:left;margin-right:10px;overflow:auto">
      <div class="load_div" style="padding:20px;height:490px;">
        ページデータファイルを選択してください
        <form id="form_page" style="width:300px;">
          <input id="myfile" type="file" />
        </form>
      </div>
    </div>


      <!-- 設定 -->
      <div id="d_set" class="mydiv" style="height:510px;text-align:left;display:inline-block;">
        <div id="d_sette" class="div_border" style="height:510px;overflow:auto;">
          <p>
            <label>色合いを変更</br>
              <select name="css" size="1" onchange="change_css(this.value);">
                <optgroup label="ライト">
                  <option value="source/css/mono.css" selected>モノクロ</option>
                  <option value="source/css/akisame.css">秋</option>
                  <option value="source/css/maroon.css">栗</option>
                  <option value="source/css/mokusei.css">きんもくせい</option>
                  <option value="source/css/haloween.css">ハロウィン</option>
                  <option value="source/css/christmas.css">クリスマス</option>
                  <option value="source/css/new_year.css">謹賀新年</option>
                  <option value="source/css/rusty_lake.css">湖の四季の記憶</option>
                  <option value="source/css/warawau.css">羽化を待つ蛹</option>
                </optgroup>
                  <optgroup label="ダーク">
                  <option value="source/css/dark_mono.css">灰色</option>
                  <option value="source/css/tukimi.css">月見</option>
                  <option value="source/css/yozakura.css">夜桜</option>
                  <option value="source/css/seiza.css">星座</option>
                  <option value="source/css/GreenTea.css">新茶の季節</option>
                  <option value="source/css/amiya.css">儚さと強さのキメラ</option>
                </optgroup>
              </select>
            </label>
          </p>

					<p>
						<label>色の詳細設定：<br>
							<select id="selectCanvas">
								<option value="body c">文字</option>
								<option value="body bg">背景</option>
								
								<option value="lod bg">ボタン1背景</option>
								<option value="lod c">ボタン1文字</option>
								
								<option value="pag bg">ボタン2背景</option>
								<option value="pag c">ボタン2文字</option>
								
								<option value="load bg">読み込み部背景</option>
								<option value="load bo">読み込み部枠</option>
								<option value="load c">読み込み部文字</option>
								
								<option value="div bg">区画背景</option>
								<option value="div bo">区画枠</option>
								<option value="div c">区画文字</option>
							</select>
							
							<input type="color" onchange="changecol(this.value)"></input>
						</label>
					</p>

          <p>
            <label>セーブデータ書き込み<br>
              <button onclick="write_savefile()" style="border-width:1px;margin-bottom:5px;">セーブデータ取得</button>
              <button onclick="load_savefile(document.getElementById('t_savedata').value)" style="border-width:1px;margin-bottom:5px;">再ロード</button><br>
              <textarea id="t_savedata" rows="3" cols="20" ></textarea>
            </label>
          </p>

          <p>
            <label>セーブデータの読み込み<br>
                <form id="form_save">
                  <input type="file" id="savefile"/>
                </form>
            </label>
          </p>

          <p>
            <label>１つ前の状態に戻す<br>
              <button type="button" onclick="remov()">もとに戻す</button>
            </label>
          </p>

          <p>
            <label>横幅の調節<br>
              <select name="yoko" size="1" onchange="yoko_resize(this.value)">
                <option value="1" selected>縦長</option>
                <option value="2">正方形</option>
              </select>
            </label>
          </p>

          <p>
            <label>左右中央揃え<br>
              <select name="sayuchuo" size="1" onchange="sayuchuo_change(this.value)">
                <option value="1" selected>左揃え</option>
                <option value="2">中央揃え</option>
                <option value="3">右揃え</option>
              </select>
            </label>
          </p>

          <p>
            <label>ページ作者からのリードミー<br>
              <input type="checkbox" id="chb_readme" onchange="get_explanation()">リードミーを得る</input>
            </label>
          </p>
          <p>
            <label>道具欄の表示<br>
              <input type="checkbox" id="chb_noitem" onchange="show_item()">道具欄を非表示</input>
            </label>
          </p>

        </div>
      </div>
    </div>

    <div id="desc_and_item" style="display:none;text-align:left;">
          <!-- 描写 -->
          <div id="d_desc_sizing" class="mydiv" style="display:block;text-align:left;float:left;margin-right:10px;">
            <div id="d_desc" class="div_border" style="height:510px;overflow:auto;">
            </div>
          </div>

          <!-- アイテム -->
            <div id="d_item" class="mydiv" style="display:block;text-align:left;float:right;overflow:auto;">
              <div id="d_item_sel" class="div_border" style="overflow:auto;height:257px;">
              </div>
              <div id="d_item_exp" class="div_border" style="overflow:auto;height:230px;border-top-width:0px;">
              </div>
            </div>
    </div>
  </div>
</body>

  <script>
  var flgarr = [];  //フラグ
  var itearr = [];  //アイテム[nam:名前, exp:説明, hav:true/falseで所有]
  var fiearr = [];  //フィールド[nam:名前, exp:説明, sel:[選択肢名, 実行文章]]
  var fie = 0;      //フィールド番号
  var numarr = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];  //番号配列（フラグの補助的）

  var if_show_item = true;//アイテム欄の表示を行うか

  var breadcrumbs = []; //セーブデータの配列。パンくず。

  //cssの参照パスを変更する
  function change_css(pat){
    document.getElementById("css").href = pat;
  }

//==============================================================================
//セーブデータ~===================================================================
  //セーブデータを変更する。ファイルへの書き出しの

function write_savefile(){
  try{
    var savedata = makesave();
    var t_savedata = document.getElementById("t_savedata")

    t_savedata.innerHTML = "";
    t_savedata.innerHTML = savedata;
    alert("セーブデータを下に書き出しました。\nセーブファイルにペーストして上書きしてください。");
    t_savedata.select();
    document.execCommand("copy");

  }catch{
    alert("エラーあり。")
  }
}

//セーブデータのロード
document.getElementById("savefile").addEventListener('change', function(evt){
    try{
      var myFile = document.getElementById("savefile").files[0];
      var reader = new FileReader();
      reader.onload = function (evt){
        var txt = evt.target.result;
        load_savefile(txt);   //savefileをloadする
      }
      reader.readAsText(myFile, "utf-8");

      document.getElementById("form_save").reset();
    }catch{
      alert("ファイル選択にエラーあり。");
    }
});


  //セーブデータのロード
function load_savefile(txt){
    document.getElementById("t_savedata").textContent = txt;

	txt = txt.replace(/\r\n/g,'\n'); //改行コードの統一
	txt = txt.replace(/\r/g, '\n');	 //改行コードの統一

    var arr = txt.split("\n");
    for(var i = 0;i < arr.length;i++){
      if(arr[i].match(/flg:(.*)/)){             //フラグ
        for(var j = 0;j < RegExp.$1.length;j++){
          if(RegExp.$1.charAt(j) == "f"){
            flgarr[j] = false;
          }else{
            flgarr[j] = true;
          }
        }

      }else if(arr[i].match(/ite:(.*)/)){       //道具
        for(var j = 0; j < RegExp.$1.length; j++){
          if(RegExp.$1.charAt(j) == "f"){
            itearr[j]["hav"] = false;
          }else{
            itearr[j]["hav"] = true;
          }
        }
      }else if(arr[i].match(/fie:(.*)/)){       //ページ名
        fie = parseInt(RegExp.$1);
      }else if(arr[i].match(/num:(.*)/)){       //ページ名
        numarr = RegExp.$1.split(",");
      }
    }

    show_page();
    block_d_desc_and_item();
    alert("セーブデータがロードされました。")
  }



//セーブデータ書き込み用
function makesave(){
    var ans = "flg:";    //フラグ
    for(var i=0;i<flgarr.length;i++){
      if(flgarr[i]){
        ans += "t";
      }else{
        ans += "f";
      }
    }

    ans += "\nite:";     //アイテム
    for(var i=0;i<itearr.length;i++){
      if(itearr[i]["hav"]){
        ans += "t";
      }else{
        ans += "f";
      }
    }

    ans += "\nfie:" + fie + "";  //ページ番号

    ans += "\nnum:" + numarr[0];     //番号
    for(var i = 1;i < numarr.length; i++){
      ans += "," + numarr[i];
    }

    return(ans);
  }

//==============================================================================
  //ページデータを得る。ファイルからの読み込み
  document.getElementById("myfile").addEventListener('change', function(evt){
    try{
      var myFile = document.getElementById("myfile").files[0];
      var reader = new FileReader();
      reader.onload = function (evt){
        var txt = evt.target.result;
        load_date(txt);   //load_dateへと送る
      }
      reader.readAsText(myFile, "utf-8");
      document.getElementById("form_page").reset();
    }catch{
      alert("ファイル選択にエラーがあります。");
    }


    var v_chb_readme = document.getElementById("chb_readme"); //リードミーの入手とアイテム欄非表示を初期化
    var v_chb_noitem = document.getElementById("chb_noitem");

    v_chb_readme.checked=false;
    v_chb_noitem.checked=false;
    if(v_chb_readme.checked){
      get_explanation();
    }

    if(v_chb_noitem.checked){
      show_item();
    }
  });

//=======================================
  //ページデータを整形して得る
function load_date(scr){
    //fie=0; //ページ番号

  scr = scr.replace(/\r\n/g,'\n'); //改行コードの統一
  scr = scr.replace(/\r/g, '\n');	 //改行コードの統一

  var arr = scr.split("\n");
  var myRE = new RegExp("flag:(.+)>");

  if(!arr[0].match(/flag:(.+)>/)){
    alert("ページデータとして不適なものが選択されました。");
  }else{

    //走査する
    for(i=0;i<arr.length;i++){

      //「フラグ」タグ
      if(arr[i].match(/flag:(.+)>/)){
        flgarr = new Array(parseInt(RegExp.$1));
        for(var j=0;j<flgarr.length;j++){
          flgarr[j]=false;   //flagarrの初期化
        }
        i++;
      }

      //「アイテム」タグ
      if(arr[i].match(/item:(.+)>/)){
        itearr = new Array(parseInt(RegExp.$1));

        for(;i<arr.length;i++){     //タグの終わりまでforを続行する
          if(arr[i] == "</item>"){  //タグの終わり
            break;
          }else{
            //アイテムタグを、名前と説明に分ける
            if(arr[i].match(/\[(.+?)\](.+?)#(.+)/)){
              //ルビの設定をはさむ。r2は名前、r3は説明のもの
              var r1 = RegExp.$1;
              var r2 = RegExp.$2.replace(/<r>(.+?)#(.+?)<\/r>/g, "<ruby>$1<rp>(</rp><rt>$2</rt><rp>)</rp></ruby>");
              var r3 = RegExp.$3.replace(/<r>(.+?)#(.+?)<\/r>/g, "<ruby>$1<rp>(</rp><rt>$2</rt><rp>)</rp></ruby>");

              itearr[parseInt(r1)] = {nam: r2, exp: r3, hav:false};
            }
          }
        }
        i++;
      }

      if(arr[i].match(/BFmap:([0-9]+)>/)){
          arr = BFtoBTAP(arr, i);
      }

      //「マップ(フィールド)」タグ
      if(arr[i].match(/map:([0-9]+)>/)){
        fiearr = new Array(parseInt(RegExp.$1));
        var temp_map=0;

        for(;i<arr.length;i++){    //タグの終わりまでforを続行する
          if(arr[i] == "</map>"){  //タグの終わり
            break;
          }else{
            if(arr[i].match(/\[(.+?)\]/)){  //フィールド番号
              temp_map=parseInt(RegExp.$1);
              fiearr[temp_map]={nam: "", exp:"", sel:[]};
            }else if(arr[i].match(/n:(.+)/)) {  //名前
              //ルビの設定をはさむ
              var r1 = RegExp.$1.replace(/<r>(.+?)#(.+?)<\/r>/g, "<ruby>$1<rp>(</rp><rt>$2</rt><rp>)</rp></ruby>");
              fiearr[temp_map]["nam"] = r1;
            }else if(arr[i].match(/e:(.+)/)) {  //説明文
              //ルビの設定をはさむ
              var r1 = RegExp.$1.replace(/<r>(.+?)#(.+?)<\/r>/g, "<ruby>$1<rp>(</rp><rt>$2</rt><rp>)</rp></ruby>");
              fiearr[temp_map]["exp"] = r1;
            }else if(arr[i].match(/\^\^(.*)$/)){  //改行を簡潔にした説明文
              var r1 = RegExp.$1.replace(/<r>(.+?)#(.+?)<\/r>/g, "<ruby>$1<rp>(</rp><rt>$2</rt><rp>)</rp></ruby>");
              fiearr[temp_map]["exp"] += r1;
            }else if(arr[i].match(/\^(.*)$/)){  //改行を簡潔にした説明文
              var r1 = RegExp.$1.replace(/<r>(.+?)#(.+?)<\/r>/g, "<ruby>$1<rp>(</rp><rt>$2</rt><rp>)</rp></ruby>");
              fiearr[temp_map]["exp"] += r1 + "<br>";
            }else if(arr[i].match(/v:(.*)$/)){  //v要素（道具の内容を描写タブ部にかく）
              fiearr[temp_map]["exp"] += itearr[parseInt(RegExp.$1)]["exp"] + "<br>";

            }else if(arr[i].match(/s:(.+)#(.+)/)) { //選択肢
              fiearr[temp_map]["sel"].push(new Array(RegExp.$1, RegExp.$2));
              console.log(RegExp.$2);
            }
          }
        }
    }
  }
  //ページ表示させる
  block_d_desc_and_item();
  mov(0);
  show_page();
  }
}

//BFstyle to BTAP=========================================================
function BFtoBTAP(arr,n){
  var ifpage = 0; //ページ編集中？（空白文字が改行かページ区切りかの判別に）
  var temp_num = -1;
  var back_num = temp_num-1;
  var front_num = temp_num+1;

  for(var i = n; i< arr.length;i++){
    if(arr[n].match(/BFmap:([0-9]+)/)){  //改行を簡潔にした説明文
      arr[n].replace(/BFmap:([0-9]+)/g, "map:($1)");
    }

    //map部おわり
    if(arr[i] == "</map>"){
    	break;
    }

    //ページ開始
    if(arr[i].match(/\[(.+)/)){
    	temp_num++;
    	back_num = temp_num - 1;
      front_num = temp_num + 1;
    	arr[i] = "[" + temp_num + "]" ;
    	arr.splice(i+1, 0, "n:" + RegExp.$1); //"n:" + RegExp.$1);//n要素の追加
    	i++;
    	ifpage = 1;

    }else if(arr[i].match(/\]/)){
      if(arr[i].match(/bf/)){//前後に壁
        arr[i] = "";
    	}else if(arr[i].match(/b\]/)){//後ろに壁
    		arr[i] = "s:次へ#mov(" + front_num + ")";
    	}else if(arr[i].match(/f\]/)){//後ろに壁
    		arr[i] = "s:戻る#mov(" + back_num + ")";
     	}else{//前後に壁無し
        arr.splice(i,1,"s:次へ#mov(" + front_num +")", "s:戻る#mov(" + back_num +")");
   	  }
    	ifpage = 0;
    }else if((ifpage == 1) && !(arr[i].match(/s:/)) && !(arr[i].match(/v:/)))　{ //e要素に「^」を追加
 			arr[i] = "^" + arr[i];
 		}
  }

  return(arr);
}



//==============================================================================
  //「ページ」タブの表示
  function show_page(){
    var page=document.getElementById("d_desc");

    //ページ名＆ページ説明div
    var ans= '<p><span style="font-size:200%;font-weight:bold;">' + fiearr[fie]["nam"] + "</span></p><div>"
                      + fiearr[fie]["exp"] + '</div><div style="display:inline-block;"><ul>';

    //ページの選択肢
    for(var i=0;i<fiearr[fie]["sel"].length;i++){
      ans += '<li class="li_sel" onclick="' + fiearr[fie]["sel"][i][1] + '">'
                        + fiearr[fie]["sel"][i][0] + "</li>";
    }
    ans += "</ul></div>";

    page.innerHTML = ans;
  }
//========================================================================
function show_item(){ //道具欄の表示・非表示の切り替え
  var div_item=document.getElementById("d_item");
  if(document.getElementById("chb_noitem").checked){  //チェックボックス
    if_show_item=false;
  }else{
    if_show_item=true;
  }
}

//ボタンを押した場合のタブ移動=================================================
  //div要素それぞれの参照を変数に
  var v_d_load_and_set = document.getElementById("load_and_set");
  var v_d_desc_and_item = document.getElementById("desc_and_item");

  var v_d_desc_sizing = document.getElementById("d_desc_sizing");
  var v_d_item = document.getElementById("d_item");

  //button要素それぞれの参照を変数に
  var v_b_load_and_set = document.getElementById("btn_load_and_set");
  var v_b_desc_and_item = document.getElementById("btn_desc_and_item");

	var arr_v_b = [v_b_load_and_set, v_b_desc_and_item];


//loadのdivを表示する
function block_d_load_and_set(){
    v_d_load_and_set.style.display="inline-block";
    v_d_desc_and_item.style.display="none";

	for(var i=0; i<arr_v_b.length; i++){	//ボタンについて、まずは全て一緒の設定に
		with(arr_v_b[i].style){
			height= "38px";
			paddingBottom = "5px";
		}
	}

	with(arr_v_b[0].style){	//特定のボタンだけ、下に伸ばす
		height = "49px";
		paddingBottom = "15px";
	}

  }

  //descのdivを表示する==================================================
  function block_d_desc_and_item(){
    v_d_load_and_set.style.display="none";
    v_d_desc_and_item.style.display="inline-block";

    if(if_show_item){
      v_d_item.style.display="inline-block";
    }else{
      v_d_item.style.display="none";
    }

    for(var i=0; i<arr_v_b.length; i++){	//ボタンについて、まずは全て一緒の設定に
		with(arr_v_b[i].style){
			height= "38px";
			paddingBottom = "5px";
		}
	}

	with(arr_v_b[1].style){	//特定のボタンだけ、下に伸ばす
		height = "49px";
		paddingBottom = "15px";
	}

      display_ite();
  }

  //アイテムの有無でオプションボタンを変える===========================================
  function display_ite(){
    var item_sel = document.getElementById("d_item_sel");
    var item_exp = document.getElementById("d_item_exp");
    item_exp.innerHTML="";
    item_sel.innerHTML="";

    for(var i=0;i<itearr.length;i++){
      if(itearr[i]["hav"]){
        //「もちもの」タブにラジオボタンを追加する。
        item_sel.innerHTML += '<label><input type="radio" name="item" onclick="' +
                                'document.getElementById(&quot;d_item_exp&quot;).innerHTML=&quot;' +
                                itearr[i]["exp"] + '&quot;"/>' +
                                itearr[i]["nam"] + "</label><br>";
      }
    }
  }

//divのwidthの変更===============================================================
function yoko_resize(x){
  switch(x){
  case "1":
      v_d_desc_sizing.style.width = "360px";
      v_d_item.style.width = "360px";
      break;
  case "2":
      v_d_desc_sizing.style.width = "550px";
      v_d_item.style.width = "550px";
      break;
  }
}

//====================================================
//全体の左右中央そろえ
function sayuchuo_change(x){
  var soroe = document.getElementById("div_soroe");

  block_d_load_and_set(); //<-これをやらないと、表示が即時反映されない時がある
  switch(x){
    case "1":
      soroe.style.textAlign = "left";
      break;

    case "2":
      soroe.style.textAlign = "center";
      break;

    case "3":
      soroe.style.textAlign = "right";
      break;
  }
}

//もとに戻す==================================
function remov(){
  if (breadcrumbs.length <= 1){ //セーブパンくずがない場合（初期値）
    alert("戻せません");
  }else{
    breadcrumbs.shift();
    load_savefile(breadcrumbs[0]);//セーブパンくずの最初の要素が１つ前のセーブデータ
  }
}

//スクリプトでかける関数=========================================================-
//マップ移動
function mov(tow) {
  fie = tow;
  breadcrumbs.unshift(makesave());  //セーブを追加、パンくずを追加する
  show_page();
}

  //アイテム獲得
  function geti(n){
    itearr[n]["hav"]=true;
    display_ite();
  }

  //アイテムをなくす
  function losi(n){
    itearr[n]["hav"]=false;
    display_ite();
  }

//アイテムをなくす
  function get_explanation(n){
    var v_chb_readme = document.getElementById("chb_readme");

    if (itearr.length != 0){
      if (v_chb_readme.checked){  //チェックボックス
        itearr[itearr.length-1]["hav"]= true;
      }else{
        itearr[itearr.length-1]["hav"]= false;
      }
      display_ite();
    }
  }


  //フラグtrueに
  function onflg(n){
    flgarr[n]=true;
  }

  //フラグfalseに
  function offlg(n){
    flgarr[n]=false;
  }

  //フラグがtrueか
  function iflg(n){
    return(flgarr[n]);
  }

  //道具を持っているか
  function hav(n){
    return(itearr[n]["hav"]);
  }

  //document.getElementById(id).innerHTML = str の糖衣
  function gebi(id, str){
    document.getElementById(id).innerHTML = str;
  }

  //番号の書き込み
  function wnum(i, num){
    numarr[i] = num;
  }

  //番号の読み込み
  function rnum(i){
    return(numarr[i])
  }

  //numarrの引き算(numarr要素からnumarr要素を引く)
  function nminn(n1, n2){
    numarr[n1] -= numarr[n2];
  }

  //numarrの引き算(numarr要素から実際に数字を引く)
  function nminx(n, x){
    numarr[n] -= x;
  }


  //numarrの足し算(numarr要素にnumarr要素を足す)
  function naddn(n1, n2){
    numarr[n1] += numarr[n2];
  }

  //numarrの足し算(numarr要素に実際に数字を足す)
  function naddx(n, x){
    numarr[n] += x;
  }

  //Math.randomの糖衣
  function rand(){
    return(Math.random());
  }

  //Math.floorの糖衣
  function flor(x){
    return(Math.floor(x));
  }

  //Math.ceilの糖衣
  function ceil(x){
    return(Math.ceil(x));
  }
	
	//色の詳細設定=====================================================
	function changecol(c){	//引数は色(RGB)である。コンボボックスselectCanvasで選択。
		var arr_load = document.getElementsByClassName("load_div");
		var arr_divbo = document.getElementsByClassName("div_border");
		
		switch(document.getElementById("selectCanvas").value){
		case "body c":	//文字色
			document.getElementById("body").style.color = c;
			break;
		
		case "body bg":	//背景色
			document.getElementById("body").style.backgroundColor = c;
			break;
			
		case "lod bg":	//ボタン1背景
			document.getElementById("btn_load_and_set").style.backgroundColor = c;
			break;
		
		case "lod c":	//ボタン1文字色
			document.getElementById("btn_load_and_set").style.color = c;
			break;
			
		case "pag c":	//ボタン2背景
			document.getElementById("btn_desc_and_item").style.color = c;
			break;
		
		case "pag bg":	//ボタン2文字色
			document.getElementById("btn_desc_and_item").style.backgroundColor = c;
			break;
			
		case "load c":	//読み込み部文字色
			for(var i=0; i< arr_load.length; i++){
				arr_load[i].style.color = c;
			}
			break;
		
		case "load bg":	//読み込み部背景色
			for(var i=0; i< arr_load.length; i++){
				arr_load[i].style.backgroundColor = c;
			}
			break;
			
		case "load bo":	//読み込み部枠線色
			for(var i=0; i< arr_load.length; i++){
				arr_load[i].style.borderColor = c;
			}
			break;
		
		case "div c":	//区画文字色
			for(var i= 0; i< arr_divbo.length; i++){
				arr_divbo[i].style.color = c;
			}
			break;
			
		case "div bg":	//区画背景色
			for(var i= 0; i< arr_divbo.length; i++){
				arr_divbo[i].style.backgroundColor = c;
			}
			break;
			
		case "div bo":	//区画枠色
			for(var i= 0; i< arr_divbo.length; i++){
				arr_divbo[i].style.borderColor = c;
			}
			break;
			
		default:	//それいがいの部位の選択は不正
			alert("error!");
		}
	}
   </script>
</html>
